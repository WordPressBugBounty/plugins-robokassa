=== Robokassa payment gateway for Woocommerce ===
Tags: robokassa payment gateway, robokassa, robokassa woocommerce, ecommerce, payment gateway
Requires at least: 5.7
Tested up to: 6.6.2
Stable tag: 1.6.3
Requires PHP: 7.4
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html

Позволяет использовать интерфейс (платежный шлюз) для оплаты через Робокассу в WooCommerce. Поддерживает интеграцию чеков (закон 54-ФЗ)

== Description ==

# Акция для новых клиентов Robokassa

**Комиссия 2,7% за прием платежей картами РФ и pay-методами с бесплатными чеками по 54-ФЗ.**
[Подключить Robokassa](https://partner.robokassa.ru/Reg/Register?PromoCode=Wordpress27&culture=ru)

---

## Описание

**Robokassa (Робокасса)** – сервис приема платежей для вашего бизнеса.
Подходит для:
- Юридических лиц (ЮЛ),
- Индивидуальных предпринимателей (ИП),
- Самозанятых (СМЗ) из России,
- ЮЛ и ИП из Казахстана.

---

## Преимущества

### 10+ платежных методов
На одной платежной странице собраны самые популярные способы оплаты, регулярно добавляются новые:

- Все российские банковские карты;
- Карты Visa и Mastercard, выпущенные в других странах;
- Система быстрых платежей (СБП);
- Pay-методы: SberPay, Яндекс Пэй, Mirpay, MTS Pay;
- Оплата по частям (BNPL): сервис "Подели";
- Рассрочка и кредит;
- Карты рассрочки: "Халва", "120 дней без %";
- Кошелек ЮMoney.

Современная минималистичная платежная страница:
- Адаптация под мобильные устройства;
- Возможность открытия прямо на сайте, без перенаправления пользователя.

---

### Фискализация для любых случаев
Мы обеспечиваем полное соблюдение законодательства без необходимости покупки кассы, упрощаем работу с чеками, причем все это – **бесплатно**:
- **Робочеки для ЮЛ и ИП**: чеки за каждый оплаченный заказ.
- **Автоматическая отправка чеков** для СМЗ и ИП на НПД: больше не нужно создавать их вручную.
- Интеграции с облачными и физическими кассами, возможность подключения собственного решения.

---

### Расширяем возможности бизнеса
Robokassa поддерживает различные сценарии продаж и обслуживания клиентов:
- Выставление индивидуальных счетов на оплату по почте и в мессенджерах;
- Холдирование средств;
- Передача кодов маркировки в "Честный ЗНАК";
- Полный и частичный возврат;
- Передача статусов оплаты во внешние системы;
- Интеграции более чем с 120 сервисами автоматизации бизнеса;
- Telegram- и VK-боты для выставления счетов и уведомлений об оплатах.

---

### Клиенты доверяют нам уже **22 года**
- Быстрое подключение – от 1 дня;
- Прием платежей и чеки по одному договору;
- Высокая стабильность сервиса;
- Оценка качества поддержки: **4,95/5**.

---

## Плагин для WooCommerce

Данный плагин позволяет принимать платежи в WooCommerce через Robokassa. Поддерживаются все необходимые функции:
- Передача состава товаров в заказе для отправки чека клиенту и в налоговую (54-ФЗ);
- Выбор системы налогообложения;
- Выбор ставки НДС для товаров в заказе;
- Поддержка оплаты через iframe (с ограничениями на методы оплаты);
- Поддержка подписок с модулем WooCommerce-Subscription.

---

## Поддержка

- [Форма обратной связи](https://robokassa.com/contacts.php)
- **Телефон:** 8 (800) 500-25-57

Если вы уже клиент, отправьте запрос из личного кабинета Robokassa и предоставьте доступ к админке сайта, а при необходимости – FTP-доступ.
Если вы еще не клиент, отправляйте запрос на [support@robokassa.com](mailto:support@robokassa.com).

[Подключить Robokassa](https://partner.robokassa.ru/Reg/Register?PromoCode=Wordpress27&culture=ru)

== Installation ==

Этапы установки плагина на сайт:

1. Скачайте репозиторий в папку /wp-content/plugins/woocommerce_robokassa
2. Активируйте плагин в настройках WordPress /wp-admin/plugins.php
3. Настройте параметры подключения /wp-admin/admin.php?page=robokassa_payment_main_rb

Настройка магазина на стороне [Робокассы](https://auth.robokassa.ru/partner/Login.aspx)
1. Алгоритм расчета хеша – MD5
2. Result Url – http(s)://your-domain.ru/?robokassa=result
3. Success Url – http(s)://your-domain.ru/?robokassa=success
4. Fail Url – http(s)://your-domain.ru/?robokassa=fail
5. Метод отсылки данных по Result Url, Success Url и fail Url  – POST

Настройка на стороне сайта:
1. Указать платежные данные: Логин магазина, Пароль магазина #1, Пароль магазина #2
2. Активировать тестовый режим при необходимости, так же необходимо будет внести: Пароль магазина для тестов #1, Пароль магазина для тестов #2

== Screenshots ==

1. `/assets/images/screenshot-1.png`
2. `/assets/images/screenshot-2.png`

== Changelog ==

= 1.6.5 =
* Добавлены ставки НДС 5%, 7%, 5/105, 7/107

= 1.6.4 =
* Исправлены незначительные ошибки

= 1.6.3 =
* Добавлена поддержка для Checkout Blocks on Woocommerce.
* Исправлены незначительные ошибки

= 1.6.2 =
* Исправлены незначительные ошибки
* Добавлено логирование в /data/
* Добавлена интеграция с Мой Склад
* Функция попозиционной маркировки перенесена в ЛЛК Робокассы
* Добавлен новый способ оплаты в кредит и рассрочку

= 1.6.1 =
* Исправлены незначительные ошибки

= 1.6.0 =
* Добавлена поддержка плагина ["WooCommerce Checkout Add-Ons"](https://woocommerce.com/products/woocommerce-checkout-add-ons/)
* Добавлена новая функция, позволяющая автоматически разбивать товары в корзине на отдельные позиции при количестве больше одного

= 1.5.9 =
* Исправлены незначительные ошибки

= 1.5.8 =
* Добавлена функционал отложенных платежей (холдирование)
* Изменена максимальная сумма корзины для "Подели"
* Переработана логика работы параметра OutSumCurrency

= 1.5.7 =
* Добавлена возможность установить валюту по умолчанию из настроек WooCommerce
* Устранены ошибки

= 1.5.6 =
* Добавлена поддержка плагина ["Woo Subscriptions"](https://woo.com/products/woocommerce-subscriptions/)
* Исправлено определение валюты для клиентов из Казахстана
* Добавлен параметр "sum" для формирования товарной номенклатуры
* Устранены ошибки стилей

= 1.5.5 =
* В карточку товара и корзину добавлен новый виджет «Рассрочка и кредит» через сервис «Всегда Да»
* Изменен внешний вид виджета «Подели» в карточке товара
* Добавлен функционал использования налоговых ставок
* Устранены ошибки

= 1.5.0 =
* Добавлен способ оплаты частями ["Подели"](https://robokassa.com/media/guides/wordpress_podeli.pdf)
* Устранены ошибки

= 1.4.7 =
* Доработан функционал передачи номенклатуры

= 1.4.6 =
* Иправлена ошибка передачи номенклатуры при вариативном товаре

= 1.4.5 =
* Добавлен параметр cost для расчёта фискализации
* Устранены ошибки внутри плагина

= 1.4.1 =
* Добавлено меню с офертами

= 1.4.0 =
* Добавлен функционал регистрации
* Изменен дизайн страницы настроек

= 1.3.14 =
* Добавлена поддержка WordPress 5.8 и проверка плагина WooCommerce

= 1.3.13 =
* Устранены ошибки внутри плагина

= 1.3.12 =
* Добавлен второй способ получения номенклатуры
* Исправлена ошибка задвоения наценки

= 1.3.11 =
* Фискализация для Казахстана

= 1.3.9 =
* Устранены ошибки внутри плагина

= 1.3.6 =
* Добавлен 2 чек, срабатывает при статусе completed

= 1.3.5 =
* Изменение описания

= 1.3.4 =
* Исправлена ошибка выбора способа оплаты и внедрена поддержка следующих версий:
	1. WordPress 5 (5.4)

= 1.3.3 =
* Внедрена поддержка следующих версий:
	1. WordPress 5 (5.3.2)
	1. WooCommerce 4.0 (4.0.1)
	
= 1.3.2 =
* Исправлена проблема дублирования кнопки оплаты при использовании наценки

= 1.3.1 =
* Исправлена проблема выгрузки товаров в YML

= 1.3.0 =
* Добавление поддержки оплаты через iframe

= 1.2.36 =
* Исправление ответа обработчика при ошибочной подписи

== Changelog ==
= 1.2.35 =
* Добавлена поддержки работы магазинов Казахстана

== Changelog ==
= 1.2.34 =
* Исправлена ошибка обработки платежа для физического лица
* Исправлена ошибка расчета комиссии для физического лица

= 1.2.33 =
* Исправлена ошибка обработки платежа

= 1.2.32 =
* Очистка корзине после подтверждения от Робокассы

= 1.2.31 =
* Внедрена поддержка следующих версий:
	1. WordPress 5 (5.0.2)
	1. WooCommerce 3.5 (3.5.0)
	1. PHP 7.1

= 1.1 =
* Обновление формата отправки данных о корзине для соответствия ФФД (версия 1.05)
* Добавление передачи доставки в чек

= 1.0 =
* Добавление параметров фискализации для передачи состава корзины и формирование электронного чека

== Upgrade Notice ==

= 1.1 =
* Необходимо обновить настройки фискализации

= 1.0 =
* При переходе на новую версию будут удалены все старые настройки!
